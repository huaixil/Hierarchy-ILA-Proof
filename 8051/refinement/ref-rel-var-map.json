{
  "models" : { "ILA" : "m0", "VERILOG" : "m1"},
  "state mapping" : {
    "ACC" : "m1.datapath.acc", 
    "B" : "m1.datapath.b_reg",
    "DPH" : "m1.datapath.dptr_hi",
    "DPL" : "m1.datapath.dptr_lo",
    "IE" : "m1.datapath.ie",
    "IP" : "m1.datapath.ip",
    "P0" : "m1.datapath.p0",
    "P1" : "m1.datapath.p1",
    "P2" : "m1.datapath.p2",
    "P3" : "m1.datapath.p3",
    "PC" : "m1.datapath.pc",
    "PCON":"m1.datapath.pcon",
    "SBUF":"m1.datapath.sbuf",
    "SCON":"m1.datapath.scon",
    "SP" : "m1.datapath.sp",
    "TCON":"m1.datapath.tcon",
    "PSW": "m1.datapath.psw",
    "TH0": "m1.datapath.th0" ,
    "TH1": "m1.datapath.th1",
    "TL0": "m1.datapath.tl0",
    "TL1": "m1.datapath.th1",
    "TMOD":"m1.datapath.tmod",
    "oc8051_IRAM_data_0" : "m1.datapath.iram_0",
    "oc8051_IRAM_data_1" : "m1.datapath.iram_1",
    "oc8051_IRAM_data_2" : "m1.datapath.iram_2",
    "oc8051_IRAM_data_3" : "m1.datapath.iram_3",
    "oc8051_IRAM_data_4" : "m1.datapath.iram_4",
    "oc8051_IRAM_data_5" : "m1.datapath.iram_5",
    "oc8051_IRAM_data_6" : "m1.datapath.iram_6",
    "oc8051_IRAM_data_7" : "m1.datapath.iram_7",
    "oc8051_IRAM_data_8" : "m1.datapath.iram_8",
    "oc8051_IRAM_data_9" : "m1.datapath.iram_9",
    "oc8051_IRAM_data_10" :"m1.datapath.iram_10",
    "oc8051_IRAM_data_11" : "m1.datapath.iram_11",
    "oc8051_IRAM_data_12" : "m1.datapath.iram_12",
    "oc8051_IRAM_data_13" : "m1.datapath.iram_13",
    "oc8051_IRAM_data_14" : "m1.datapath.iram_14",
    "oc8051_IRAM_data_15" : "m1.datapath.iram_15",
    "XRAM_ADDR" : "m1.mem_interface.dadr_o",
    "XRAM_DATA_OUT" : "m1.mem_interface.ddat_o"
  },
  "interface mapping" : {
    "rst"  : "**RESET**",
    "clk"  : "**CLOCK**",
    "eq"   : "**KEEP**",
    "irom_out_of_rst"   : "**KEEP**",
    "op_in"   : "**KEEP**",
    "wait_data"   : "**KEEP**",
    "dack_i": "**KEEP**"
  },
  "mapping control" : [
  "m1.dack_i == m1.mem_interface.dstb_o",
  //  "m1.cxrom_data_out[7:0] == m0.oc8051_ROM_rdata_0",
  //"m1.int0_i == 0",
  //"m1.int1_i == 0",
   "m1.op_in == m0.oc8051_ROM_rdata_0",
   "m1.datapath.op2 == m0.oc8051_ROM_rdata_1",
   "m1.datapath.op3 == m0.oc8051_ROM_rdata_2",
   "!(m1.pc_change == 0) || m1.op_in == 0",
   "m1.datapath.wait_data == 0",
   "(~__START__) || (((~(m1.mem_interface.op_pos == 0)) || (m1.mem_interface.idat_old[7:0] == m0.oc8051_ROM_rdata_0)) && ((~(m1.mem_interface.op_pos == 1)) || (m1.mem_interface.idat_old[15:8] == m0.oc8051_ROM_rdata_0)) && ((~(m1.mem_interface.op_pos == 2)) || (m1.mem_interface.idat_old[23:16] == m0.oc8051_ROM_rdata_0)) && ((~(m1.mem_interface.op_pos == 3)) || (m1.mem_interface.idat_old[31:24] == m0.oc8051_ROM_rdata_0)) && ((~(m1.mem_interface.op_pos == 4)) || (m1.mem_interface.idat_cur[7:0] == m0.oc8051_ROM_rdata_0)) && ((~(m1.mem_interface.op_pos > 4)) || (m1.mem_interface.idat_cur[15:8] == m0.oc8051_ROM_rdata_0)))",
   "(~__START__) || (((~(m1.mem_interface.op_pos == 0)) || (m1.mem_interface.idat_old[15:8] == m0.oc8051_ROM_rdata_1)) && ((~(m1.mem_interface.op_pos == 1)) || (m1.mem_interface.idat_old[23:16] == m0.oc8051_ROM_rdata_1)) && ((~(m1.mem_interface.op_pos == 2)) || (m1.mem_interface.idat_old[31:24] == m0.oc8051_ROM_rdata_1)) && ((~(m1.mem_interface.op_pos == 3)) || (m1.mem_interface.idat_cur[7:0] == m0.oc8051_ROM_rdata_1)) && ((~(m1.mem_interface.op_pos == 4)) || (m1.mem_interface.idat_cur[15:8] == m0.oc8051_ROM_rdata_1)) && ((~(m1.mem_interface.op_pos > 4)) || (m1.mem_interface.idat_cur[23:16] == m0.oc8051_ROM_rdata_1)))",
   "(~__START__) || (((~(m1.mem_interface.op_pos == 0)) || (m1.mem_interface.idat_old[23:16] == m0.oc8051_ROM_rdata_2)) && ((~(m1.mem_interface.op_pos == 1)) || (m1.mem_interface.idat_old[31:24] == m0.oc8051_ROM_rdata_2)) && ((~(m1.mem_interface.op_pos == 2)) || (m1.mem_interface.idat_cur[7:0] == m0.oc8051_ROM_rdata_2)) && ((~(m1.mem_interface.op_pos == 3)) || (m1.mem_interface.idat_cur[15:8] == m0.oc8051_ROM_rdata_2)) && ((~(m1.mem_interface.op_pos == 4)) || (m1.mem_interface.idat_cur[23:16] == m0.oc8051_ROM_rdata_2)) && ((~(m1.mem_interface.op_pos > 4)) || (m1.mem_interface.idat_cur[31:24] == m0.oc8051_ROM_rdata_2)))",
  //  "(~__STARTED__) || (m0.oc8051_ROM_rdata_0 == 8'ha5)",
   "m1.datapath.p == 0",
  "(m1.mem_interface.op_pos < 6)",
      "(~(m1.mem_interface.dack_ir == 1)) || (m1.decoder.state != 0)",
      "(~(m1.mem_interface.cdone == 1)) || (m1.decoder.state != 0)"
  ]
}